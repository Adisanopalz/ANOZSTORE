<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnozStore - Official Gaming Shop</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;700;800&display=swap" rel="stylesheet">

    <!-- Custom Styles & Animation -->
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow-x: hidden;
        }

        /* Hide Default Cursor for Custom Cursor logic */
        @media (min-width: 768px) {
            body, a, button, input {
                cursor: none;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #ef4444; }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }
        @keyframes shimmer {
            0% { left: -150%; }
            100% { left: 150%; }
        }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .animate-fade-in { animation: fadeInUp 0.6s ease-out forwards; }
        .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; opacity: 0; }
        .animate-float { animation: float 3s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 3s ease-in-out infinite; }
        .animate-scroll { animation: scroll 20s linear infinite; }
        .animate-scroll-fast { animation: scroll 15s linear infinite; }
        .animate-spin-slow { animation: spin-slow 8s linear infinite; }

        .animate-shimmer-effect::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: skewX(-20deg);
            animation: shimmer 3s infinite;
        }

        /* Utils */
        .glass { backdrop-filter: blur(12px); }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Cursor Styles */
        #cursor-main { pointer-events: none; z-index: 9999; position: fixed; top: 0; left: 0; margin-top: -12px; margin-left: -8px; transition: transform 0.1s ease-out; }
        #cursor-dot { pointer-events: none; z-index: 9998; position: fixed; top: 0; left: 0; transition: all 0.15s ease-out; }
    </style>
</head>
<body class="bg-[#050505] text-slate-100 transition-colors duration-500">

    <!-- ROOT APP CONTAINER -->
    <div id="app" class="min-h-screen relative pb-20 md:pb-0">
        <!-- Content injected by JS -->
    </div>

    <!-- CUSTOM CURSOR DOM -->
    <div id="cursor-main" class="hidden md:block">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="drop-shadow-[0_0_8px_rgba(239,68,68,0.8)]">
            <path d="M2 2L21 8L11 12L8 21L2 2Z" fill="#ef4444" stroke="white" stroke-width="1.5" stroke-linejoin="round"/>
        </svg>
    </div>
    <div id="cursor-dot" class="hidden md:block">
        <div id="cursor-dot-inner" class="relative -top-3 -left-3 w-6 h-6 border border-dashed border-red-400 rounded-full flex items-center justify-center opacity-40 scale-50 transition-all duration-300">
            <div class="w-0.5 h-full bg-red-500/20 absolute"></div>
            <div class="h-0.5 w-full bg-red-500/20 absolute"></div>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA ---
        const banners = [
            { id: 1, title: "PROMO GAJIAN", subtitle: "Diskon up to 50% untuk semua game!", color: "from-red-600 to-rose-900", icon: "zap" },
            { id: 2, title: "NEW ARRIVAL", subtitle: "Top Up Honor of Kings sekarang tersedia.", color: "from-indigo-600 to-blue-900", icon: "star" },
            { id: 3, title: "EVENT SPESIAL", subtitle: "Bonus Diamond setiap pembelian via QRIS.", color: "from-emerald-600 to-teal-900", icon: "crown" }
        ];

        const games = [
            { id: 1, category: 'game', name: 'Mobile Legends', publisher: 'Moonton', imgUrl: 'https://i.pinimg.com/1200x/d6/23/8e/d6238e6d724fddec242eaf389b67815a.jpg', image: 'bg-gradient-to-br from-indigo-900 to-purple-900', icon: 'M', items: [{ id: 'ml1', name: '86 Diamonds', price: 20000 }] },
            { id: 2, category: 'game', name: 'Free Fire', publisher: 'Garena', imgUrl: 'https://i.pinimg.com/736x/f2/3c/95/f23c95ed4421952cac128d0560ea1b73.jpg', image: 'bg-gradient-to-br from-orange-800 to-red-900', icon: 'F', items: [{ id: 'ff1', name: '70 Diamonds', price: 10000 }] },
            { id: 3, category: 'game', name: 'PUBG Mobile', publisher: 'Tencent', imgUrl: 'https://i.pinimg.com/1200x/5e/68/e4/5e68e4a0cbe4a056aca1c33c5c6dcbbc.jpg', image: 'bg-gradient-to-br from-yellow-800 to-amber-900', icon: 'P', items: [{ id: 'pm1', name: '60 UC', price: 14000 }] },
            { id: 4, category: 'game', name: 'Genshin Impact', publisher: 'HoYoverse', imgUrl: 'https://i.pinimg.com/1200x/09/a4/ca/09a4ca2d90657e578ca8734b35102b5e.jpg', image: 'bg-gradient-to-br from-purple-800 to-pink-900', icon: 'G', items: [{ id: 'gi1', name: '60 Genesis Crystals', price: 16000 }] },
            { id: 5, category: 'game', name: 'Valorant', publisher: 'Riot Games', imgUrl: 'https://i.pinimg.com/736x/64/87/43/6487433310b7516c5caa25230429ee3f.jpg', image: 'bg-gradient-to-br from-red-800 to-rose-950', icon: 'V', items: [{ id: 'vl1', name: '125 Points', price: 15000 }] },
            { id: 6, category: 'game', name: 'Honor of Kings', publisher: 'Level Infinite', imgUrl: 'https://i.pinimg.com/736x/9e/6a/5b/9e6a5b3bec80ef6d43b2d1f487b94649.jpg', image: 'bg-gradient-to-br from-amber-700 to-orange-900', icon: 'H', items: [{ id: 'hok1', name: '80 Tokens', price: 12000 }] },
            { id: 7, category: 'game', name: 'Honkai: Star Rail', publisher: 'HoYoverse', imgUrl: 'https://i.pinimg.com/1200x/a2/be/38/a2be381dee2b870310af7e6ecb6bf867.jpg', image: 'bg-gradient-to-br from-blue-800 to-indigo-950', icon: 'S', items: [{ id: 'hsr1', name: '60 Oneiric Shards', price: 16000 }] },
            { id: 8, category: 'game', name: 'Call of Duty: Mobile', publisher: 'Activision', imgUrl: 'https://i.pinimg.com/1200x/5d/08/de/5d08de5bc1126fdf354a1740a33c6f63.jpg', image: 'bg-gradient-to-br from-gray-800 to-slate-900', icon: 'C', items: [{ id: 'codm1', name: '31 CP', price: 5000 }] },
            { id: 9, category: 'game', name: 'League of Legends: WR', publisher: 'Riot Games', imgUrl: 'https://i.pinimg.com/1200x/b3/a4/9f/b3a49f2059eee17c17e236e5fc338f41.jpg', image: 'bg-gradient-to-br from-cyan-700 to-blue-900', icon: 'L', items: [{ id: 'wr1', name: '420 Wild Cores', price: 50000 }] },
            { id: 10, category: 'game', name: 'Roblox', publisher: 'Roblox Corp', imgUrl: 'https://i.pinimg.com/736x/fb/3e/59/fb3e59064ce7375a24494cd166cd5522.jpg', image: 'bg-gradient-to-br from-slate-700 to-gray-900', icon: 'R', items: [{ id: 'rb1', name: '80 Robux', price: 15000 }] },
            { id: 11, category: 'voucher', name: 'Steam Wallet', publisher: 'Valve', imgUrl: 'https://i.pinimg.com/736x/4f/c7/ee/4fc7ee1cdbb002e82318f52ff1066c7e.jpg', image: 'bg-gradient-to-br from-blue-900 to-slate-900', icon: 'SW', items: [{ id: 'sw1', name: 'IDR 12.000', price: 15000 }] },
            { id: 12, category: 'voucher', name: 'Google Play', publisher: 'Google', imgUrl: 'https://i.pinimg.com/736x/d1/21/1c/d1211c3675b342225ae03a8656be16a4.jpg', image: 'bg-gradient-to-br from-green-600 to-emerald-800', icon: 'GP', items: [{ id: 'gp1', name: 'Voucher 20.000', price: 22000 }] },
            { id: 13, category: 'game', name: 'FC Mobile (FIFA)', publisher: 'EA Sports', imgUrl: 'https://i.pinimg.com/736x/9e/e8/4a/9ee84ac645044402290fdb4945de89bd.jpg', image: 'bg-gradient-to-br from-teal-700 to-emerald-900', icon: 'FC', items: [{ id: 'fc1', name: 'Silver Point', price: 15000 }] },
            { id: 14, category: 'game', name: 'eFootball 2024', publisher: 'Konami', imgUrl: 'https://i.pinimg.com/1200x/7a/77/5e/7a775ef867a20255569fe05e13dd355b.jpg', image: 'bg-gradient-to-br from-blue-700 to-indigo-800', icon: 'E', items: [{ id: 'ef1', name: '130 Coins', price: 16000 }] },
            { id: 15, category: 'game', name: 'Clash of Clans', publisher: 'Supercell', imgUrl: 'https://i.pinimg.com/1200x/09/ab/86/09ab86afc18f8adbcc71d7ccf098d70c.jpg', image: 'bg-gradient-to-br from-yellow-600 to-orange-700', icon: 'CC', items: [{ id: 'coc1', name: '80 Gems', price: 15000 }] },
            { id: 16, category: 'app', name: 'Bigo Live', publisher: 'Bigo Tech', imgUrl: 'https://i.pinimg.com/736x/4c/88/99/4c88997c02c20467ca0a5c12223d5864.jpg', image: 'bg-gradient-to-br from-cyan-400 to-blue-500', icon: 'B', items: [{ id: 'bigo1', name: '40 Diamonds', price: 15000 }] },
            { id: 17, category: 'app', name: 'TikTok Live', publisher: 'ByteDance', imgUrl: 'https://i.pinimg.com/1200x/a7/49/4d/a7494dbc638fad80d1aaf8bb178b76a2.jpg', image: 'bg-gradient-to-br from-slate-900 to-black', icon: 'TK', items: [{ id: 'tt1', name: '70 Coins', price: 12000 }] },
            { id: 18, category: 'app', name: 'Spotify Premium', publisher: 'Spotify', imgUrl: 'https://i.pinimg.com/736x/61/19/26/611926b5365079b32f5248bc4c4ace34.jpg', image: 'bg-gradient-to-br from-green-500 to-green-800', icon: 'SP', items: [{ id: 'sp1', name: 'Premium 1 Bulan', price: 55000 }] },
            { id: 19, category: 'app', name: 'Vidio', publisher: 'Emtek', imgUrl: 'https://cdn0-production-images-kly.akamaized.net/Bou5vrl-kBRxALeASmLwKtLynkg=/1200x675/smart/filters:quality(75):strip_icc():format(jpeg)/kly-media-production/medias/4731903/original/097127700_1706769543-makin-berkembang-kini-vidio-tawarkan-ko-b1e09b.jpeg', image: 'bg-gradient-to-br from-pink-600 to-red-600', icon: 'VD', items: [{ id: 'vd1', name: 'Platinum 30 Hari', price: 39000 }] },
            { id: 20, category: 'game', name: 'Ragnarok Origin', publisher: 'Gravity', imgUrl: 'https://i.pinimg.com/736x/6d/fb/e6/6dfbe6bb5ab89662e7121a2f22b0e5e4.jpg', image: 'bg-gradient-to-br from-orange-300 to-amber-600', icon: 'RO', items: [{ id: 'ro1', name: 'Nyan Berry', price: 15000 }] },
            { id: 26, category: 'voucher', name: 'Growtopia', publisher: 'Ubisoft', imgUrl: 'https://i.pinimg.com/736x/64/b2/c8/64b2c870265166d359e373a8608e82c7.jpg', image: 'bg-gradient-to-br from-green-400 to-yellow-400', icon: 'GT', items: [{ id: 'gt1', name: 'World Lock', price: 5000 }] },
        ];

        const payments = [
            { id: 'qris', name: 'QRIS (All Payment)', fee: 0, icon: 'qr-code' },
            { id: 'dana', name: 'DANA', fee: 0, icon: 'wallet' },
            { id: 'gopay', name: 'GoPay', fee: 1000, icon: 'wallet' },
            { id: 'ovo', name: 'OVO', fee: 1000, icon: 'wallet' },
            { id: 'va', name: 'Virtual Account', fee: 2500, icon: 'landmark' },
        ];

        const testimonials = [
            { id: 1, name: "Sultan Andara", role: "Mobile Legends Player", quote: "Gila sih, top up jam 3 pagi masuknya itungan detik. Recommended banget!", rating: 5 },
            { id: 2, name: "Pro Player FF", role: "Free Fire User", quote: "Harga termurah se-Indonesia, adminnya juga fast respon parah.", rating: 5 },
            { id: 3, name: "Wibu Elite", role: "Genshin Impact", quote: "Buat gacha Aman banget, legal 100%. Nggak takut minus.", rating: 5 },
        ];

        const faqs = [
            { id: 1, q: "Apakah layanan ini buka 24 jam?", a: "Ya, sistem kami beroperasi otomatis 24 jam non-stop." },
            { id: 2, q: "Berapa lama proses masuknya?", a: "Estimasi proses 1-5 detik untuk Normal, dan maksimal 10 menit jika padat." },
            { id: 3, q: "Apa yang harus dilakukan jika gagal?", a: "Dana akan otomatis dikembalikan atau hubungi CS kami." },
            { id: 4, q: "Metode pembayaran apa saja?", a: "QRIS, E-Wallet (Dana, Ovo, ShopeePay), Transfer Bank, dan Virtual Account." }
        ];

        const stats = [
            { id: 1, label: "Transaksi Sukses", value: "99.9%", icon: "check" },
            { id: 2, label: "Total Transaksi", value: "50k+", icon: "activity" },
            { id: 3, label: "Pelanggan Puas", value: "10k+", icon: "users" },
            { id: 4, label: "Layanan Aktif", value: "24/7", icon: "clock" },
        ];

        const categories = [
            { id: 'all', label: 'Semua' },
            { id: 'game', label: 'Games' },
            { id: 'voucher', label: 'Voucher' },
            { id: 'app', label: 'App' },
        ];

        // --- STATE MANAGEMENT ---
        let state = {
            activeTab: 'home',
            selectedGame: null,
            searchQuery: '',
            isDarkMode: true,
            isMenuOpen: false,
            currentBanner: 0,
            selectedCategory: 'all',
            timeLeft: 7200,
            liveNotif: null,
            activeFaq: null,
            checkout: {
                userId: '',
                serverId: '',
                selectedItem: null,
                selectedPayment: null
            }
        };

        // --- THEME CONFIG ---
        const getTheme = () => state.isDarkMode ? {
            bg: "bg-[#050505]", text: "text-slate-100", textMuted: "text-slate-400", card: "bg-[#111111]/80 border-white/5",
            nav: "bg-[#050505]/80 border-white/5", accent: "text-red-500", border: "border-red-900/30",
            input: "bg-[#0a0a0a] border-white/10 text-white focus:border-red-500", priceText: "text-amber-400"
        } : {
            bg: "bg-rose-50/50", text: "text-slate-900", textMuted: "text-slate-500", card: "bg-white/80 border-red-100 shadow-sm",
            nav: "bg-white/80 border-red-100", accent: "text-red-600", border: "border-red-200",
            input: "bg-white border-red-100 text-slate-900 focus:border-red-500", priceText: "text-red-700"
        };

        // --- UTILS ---
        const formatRupiah = (num) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(num);
        const formatTime = (seconds) => {
            const h = Math.floor(seconds / 3600).toString().padStart(2, '0');
            const m = Math.floor((seconds % 3600) / 60).toString().padStart(2, '0');
            const s = (seconds % 60).toString().padStart(2, '0');
            return `${h} : ${m} : ${s}`;
        };

        // --- ACTIONS ---
        function setState(newState) {
            state = { ...state, ...newState };
            render();
        }

        // NEW: Specific Action for Banner to prevent full re-render
        function navigateBanner(newIndex) {
            state.currentBanner = newIndex;
            const wrapper = document.getElementById('banner-wrapper');
            // If the wrapper exists, just update its content (Prevent Page Reload effect)
            if (wrapper) {
                wrapper.innerHTML = RenderBanner();
                lucide.createIcons({ root: wrapper });
            } else {
                // If wrapper doesn't exist (maybe not on home tab), do full render
                render();
            }
        }

        function setCheckout(key, value) {
            state.checkout = { ...state.checkout, [key]: value };
            render();
        }

        function toggleTheme() {
            setState({ isDarkMode: !state.isDarkMode });
            document.body.className = state.isDarkMode ? 'bg-[#050505] text-slate-100' : 'bg-rose-50 text-slate-900';
        }

        function handleCheckoutAction() {
            const { userId, serverId, selectedItem, selectedPayment } = state.checkout;
            if (!userId || !selectedItem || !selectedPayment) {
                showToast('Mohon lengkapi data pesanan!', 'error');
                return;
            }
            const total = selectedItem.price + selectedPayment.fee;
            const msg = `Halo Admin AnozStore! üëã\n\nSaya ingin order:\nüéÆ Game: *${state.selectedGame.name}*\nüÜî ID: *${userId}* ${serverId ? `(${serverId})` : ''}\nüíé Item: *${selectedItem.name}*\nüí≥ Bayar: *${selectedPayment.name}*\nüí∞ Total: *${formatRupiah(total)}*`;
            window.open(`https://wa.me/6281234567890?text=${encodeURIComponent(msg)}`, '_blank');
            showToast('Mengarahkan ke WhatsApp...', 'success');
        }

        function showToast(msg, type) {
            const toast = document.createElement('div');
            toast.className = `fixed top-6 left-1/2 transform -translate-x-1/2 z-[100] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-bounce ${type === 'error' ? 'bg-red-600 text-white' : 'bg-emerald-500 text-white'}`;
            toast.innerHTML = `<i data-lucide="${type === 'error' ? 'x' : 'check'}" width="20"></i> <span class="font-bold text-sm">${msg}</span>`;
            document.body.appendChild(toast);
            lucide.createIcons();
            setTimeout(() => toast.remove(), 3000);
        }

        // --- COMPONENTS (RENDER FUNCTIONS) ---
        
        function RenderNavbar() {
            const t = getTheme();
            return `
            <div class="w-full py-2 overflow-hidden z-50 relative ${state.isDarkMode ? 'bg-red-900/20 text-red-200' : 'bg-red-600 text-white'}">
                <div class="flex animate-scroll whitespace-nowrap gap-10">
                   <div class="flex items-center gap-10 text-xs font-bold tracking-widest uppercase">
                     <span>‚ö° Welcome to Official AnozStore!</span><span>üõ°Ô∏è Layanan Top Up 24 Jam</span><span>‚ö†Ô∏è Hati-hati penipuan!</span><span>üî• Promo Gajian!</span>
                   </div>
                   <div class="flex items-center gap-10 text-xs font-bold tracking-widest uppercase">
                     <span>‚ö° Welcome to Official AnozStore!</span><span>üõ°Ô∏è Layanan Top Up 24 Jam</span><span>‚ö†Ô∏è Hati-hati penipuan!</span><span>üî• Promo Gajian!</span>
                   </div>
                </div>
            </div>
            
            <nav class="sticky top-0 z-40 backdrop-blur-xl border-b transition-colors duration-500 ${t.nav}">
                <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
                    <div class="flex items-center gap-3 cursor-pointer group" onclick="setState({activeTab: 'home', selectedGame: null})">
                        <div class="w-10 h-10 bg-gradient-to-tr from-red-600 to-red-400 rounded-xl flex items-center justify-center shadow-lg group-hover:rotate-6 transition">
                            <i data-lucide="crown" class="text-white"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-black tracking-tighter leading-none">ANOZ<span class="${t.accent}">STORE</span></h1>
                            <p class="text-[10px] font-bold tracking-widest uppercase ${t.textMuted}">Official Gaming Shop</p>
                        </div>
                    </div>
                    
                    <div class="hidden md:flex items-center gap-8">
                        <button onclick="setState({activeTab:'home', selectedGame:null})" class="${state.activeTab === 'home' && !state.selectedGame ? t.accent : 'text-slate-400 hover:text-red-500'} font-bold text-sm tracking-wide transition">BERANDA</button>
                        <button onclick="setState({activeTab:'history'})" class="${state.activeTab === 'history' ? t.accent : 'text-slate-400 hover:text-red-500'} font-bold text-sm tracking-wide transition">RIWAYAT</button>
                        <button onclick="setState({activeTab:'about'})" class="${state.activeTab === 'about' ? t.accent : 'text-slate-400 hover:text-red-500'} font-bold text-sm tracking-wide transition">TENTANG</button>
                        <button onclick="toggleTheme()" class="w-10 h-10 rounded-full flex items-center justify-center border transition ${state.isDarkMode ? 'bg-slate-800 border-slate-700 text-yellow-400' : 'bg-red-50 border-red-200 text-red-600'}">
                            <i data-lucide="${state.isDarkMode ? 'sun' : 'moon'}" width="20"></i>
                        </button>
                    </div>

                    <div class="md:hidden flex gap-4">
                        <button onclick="toggleTheme()" class="${state.isDarkMode ? 'text-yellow-400' : 'text-red-600'}"><i data-lucide="${state.isDarkMode ? 'sun' : 'moon'}" width="24"></i></button>
                    </div>
                </div>
            </nav>
            `;
        }

        function RenderBanner() {
            const t = getTheme();
            const b = banners[state.currentBanner];
            return `
            <div class="relative rounded-3xl overflow-hidden mb-8 border ${t.border} shadow-2xl group h-[300px] md:h-[350px]">
                <button onclick="navigateBanner(${state.currentBanner === 0 ? banners.length - 1 : state.currentBanner - 1})" class="absolute left-4 top-1/2 -translate-y-1/2 z-40 p-3 rounded-full bg-black/20 text-white backdrop-blur border border-white/10 hover:bg-black/50 transition opacity-0 group-hover:opacity-100"><i data-lucide="chevron-left"></i></button>
                <button onclick="navigateBanner(${(state.currentBanner + 1) % banners.length})" class="absolute right-4 top-1/2 -translate-y-1/2 z-40 p-3 rounded-full bg-black/20 text-white backdrop-blur border border-white/10 hover:bg-black/50 transition opacity-0 group-hover:opacity-100"><i data-lucide="chevron-right"></i></button>
                
                <div class="absolute inset-0 w-full h-full flex flex-col justify-center items-center md:items-start md:px-20 text-center md:text-left transition-all duration-700">
                    <div class="absolute inset-0 bg-gradient-to-r ${b.color} opacity-90"></div>
                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 mix-blend-overlay"></div>
                    <div class="relative z-20 max-w-2xl animate-fade-in-up">
                         <div class="flex items-center justify-center md:justify-start gap-4 mb-4">
                            <div class="p-3 bg-white/10 backdrop-blur rounded-full border border-white/20 animate-float"><i data-lucide="${b.icon}" class="text-yellow-400 fill-yellow-400"></i></div>
                            <span class="bg-white/10 px-3 py-1 rounded-full text-xs font-bold text-white tracking-widest border border-white/20 uppercase">Official Promo</span>
                        </div>
                        <h2 class="text-4xl md:text-6xl font-black text-white leading-tight drop-shadow-lg mb-2">${b.title}</h2>
                        <p class="text-white/80 text-lg md:text-xl font-medium mb-8">${b.subtitle}</p>
                    </div>
                </div>
                
                <div class="absolute bottom-6 left-0 right-0 z-30 flex justify-center gap-2">
                    ${banners.map((_, i) => `<div onclick="navigateBanner(${i})" class="h-2 rounded-full cursor-pointer transition-all duration-300 ${i === state.currentBanner ? 'w-8 bg-white' : 'w-2 bg-white/40'}"></div>`).join('')}
                </div>
            </div>`;
        }

        function RenderFlashSale() {
            const t = getTheme();
            const items = [
                {name: '172 Diamonds', game: 'Mobile Legends', price: 40000, promo: 35000, img: 'bg-indigo-900'},
                {name: '60 UC', game: 'PUBG Mobile', price: 14000, promo: 12500, img: 'bg-yellow-800'},
                {name: 'Weekly Pass', game: 'Mobile Legends', price: 28000, promo: 24500, img: 'bg-blue-900'},
                {name: 'Welkin Moon', game: 'Genshin Impact', price: 79000, promo: 69000, img: 'bg-purple-900'},
            ];
            return `
            <div class="mb-12">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-2"><i data-lucide="zap" class="text-yellow-400 fill-yellow-400 animate-pulse"></i><h3 class="text-xl font-black italic tracking-tighter ${t.text}">FLASH SALE</h3></div>
                    <div class="flex items-center gap-2 bg-red-600 px-3 py-1 rounded-lg text-white font-mono font-bold text-sm animate-pulse-slow"><i data-lucide="clock" width="16"></i><span>${formatTime(state.timeLeft)}</span></div>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    ${items.map((item, i) => `
                        <div class="p-4 rounded-2xl border relative overflow-hidden group cursor-pointer ${t.card} hover:border-red-500/50 hover:shadow-lg transition transform hover:-translate-y-1" style="animation: fadeInUp 0.6s ease-out forwards ${i * 0.1}s; opacity: 0;">
                            <div class="absolute top-0 right-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10 animate-pulse">HEMAT ${Math.round(((item.price - item.promo)/item.price)*100)}%</div>
                            <div class="h-24 rounded-xl ${item.img} mb-3 flex items-center justify-center"><i data-lucide="zap" class="text-white/50"></i></div>
                            <h4 class="font-bold text-sm ${t.text}">${item.name}</h4>
                            <p class="text-[10px] text-slate-500">${item.game}</p>
                            <div class="mt-2"><p class="text-[10px] text-slate-400 line-through">Rp ${item.price.toLocaleString()}</p><p class="text-red-500 font-bold text-sm">Rp ${item.promo.toLocaleString()}</p></div>
                        </div>
                    `).join('')}
                </div>
            </div>`;
        }

        function RenderGameGrid() {
            const t = getTheme();
            const filtered = games.filter(g => 
                g.name.toLowerCase().includes(state.searchQuery.toLowerCase()) && 
                (state.selectedCategory === 'all' || g.category === state.selectedCategory)
            );
            
            return `
            <div class="flex items-center justify-between mb-6">
               <div class="flex items-center gap-3">
                 <div class="p-2 rounded-lg ${state.isDarkMode ? 'bg-red-500/10' : 'bg-red-100'}"><i data-lucide="star" class="text-red-500 fill-red-500"></i></div>
                 <h3 class="text-2xl font-black tracking-tight ${t.text}">SEMUA PRODUK</h3>
               </div>
               <div class="relative group">
                  <input type="text" placeholder="Cari game..." oninput="setState({searchQuery: this.value})" value="${state.searchQuery}" class="bg-transparent border ${t.border} text-sm rounded-full pl-5 pr-10 py-2.5 focus:outline-none focus:border-red-500 transition w-32 md:w-56 ${t.text}">
                  <i data-lucide="search" class="absolute right-4 top-2.5 ${t.textMuted} w-4"></i>
               </div>
            </div>

            <div class="flex flex-wrap gap-2 mb-8 animate-fade-in-up">
                ${categories.map(cat => `
                    <button onclick="setState({selectedCategory: '${cat.id}'})" class="px-6 py-2.5 rounded-full font-bold text-sm transition border flex items-center gap-2 ${state.selectedCategory === cat.id ? 'bg-red-600 border-red-600 text-white shadow-lg' : `${t.card} ${t.textMuted} hover:border-red-500 hover:text-red-500`}">
                       ${state.selectedCategory === cat.id ? '<i data-lucide="check" width="14" stroke-width="4"></i>' : ''} ${cat.label}
                    </button>
                `).join('')}
            </div>

            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 md:gap-6 min-h-[400px]">
                ${filtered.map((g, i) => `
                    <div onclick="setState({selectedGame: ${g.id}, checkout: {userId:'', serverId:'', selectedItem:null, selectedPayment:null}})" class="group relative rounded-2xl overflow-hidden cursor-pointer border backdrop-blur-sm transition-all duration-300 transform hover:-translate-y-2 ${t.card} hover:border-red-500/50" style="animation: fadeInUp 0.6s ease-out forwards ${i * 0.05}s; opacity: 0;">
                        <div class="h-32 md:h-40 w-full ${g.image} flex items-center justify-center relative overflow-hidden">
                            ${g.imgUrl ? `<img src="${g.imgUrl}" alt="${g.name}" class="absolute inset-0 w-full h-full object-cover transition duration-700 group-hover:scale-110">` : `<span class="text-5xl font-black text-white/20 select-none">${g.icon}</span>`}
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition duration-500"></div>
                        </div>
                        <div class="p-4 md:p-5 relative z-10">
                            <h4 class="font-bold text-sm md:text-base truncate ${t.text} group-hover:text-red-500 transition">${g.name}</h4>
                            <p class="text-[10px] md:text-xs ${t.textMuted} mt-1 font-medium">${g.publisher}</p>
                        </div>
                    </div>
                `).join('')}
            </div>`;
        }

        function RenderGameDetail() {
            const t = getTheme();
            const g = games.find(game => game.id === state.selectedGame);
            const { checkout } = state;
            
            return `
            <div class="max-w-5xl mx-auto animate-fade-in pt-8">
                <button onclick="setState({selectedGame: null})" class="flex items-center ${t.textMuted} hover:${t.accent} mb-8 group font-bold tracking-wide transition">
                    <div class="p-2 rounded-full mr-3 border ${t.border} group-hover:bg-red-500 group-hover:text-white transition"><i data-lucide="chevron-left" width="20"></i></div> Kembali
                </button>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-10">
                    <!-- Info -->
                    <div class="lg:col-span-1">
                        <div class="rounded-3xl p-6 border ${t.card} lg:sticky lg:top-28 backdrop-blur-md animate-fade-in-up">
                             <div class="h-40 w-full rounded-2xl ${g.image} mb-6 flex items-center justify-center shadow-lg relative overflow-hidden">
                                ${g.imgUrl ? `<img src="${g.imgUrl}" class="absolute inset-0 w-full h-full object-cover">` : `<span class="text-8xl font-black text-white/30">${g.icon}</span>`}
                             </div>
                             <h2 class="text-2xl md:text-3xl font-black ${t.text}">${g.name}</h2>
                             <p class="${t.textMuted} text-sm font-bold tracking-wider mt-1 uppercase">${g.publisher}</p>
                             <div class="mt-8 space-y-4 text-sm ${t.textMuted} font-medium">
                                <div class="flex items-center gap-3 p-3 rounded-xl bg-white/5"><i data-lucide="zap" class="text-yellow-400 animate-pulse"></i><span>Proses Otomatis</span></div>
                                <div class="flex items-center gap-3 p-3 rounded-xl bg-white/5"><i data-lucide="smartphone" class="text-blue-400"></i><span>Layanan 24 Jam</span></div>
                             </div>
                        </div>
                    </div>
                    
                    <!-- Form -->
                    <div class="lg:col-span-2 space-y-6 md:space-y-8">
                        <!-- 1. Input -->
                        <div class="rounded-3xl p-6 border ${t.card} animate-fade-in-up" style="animation-delay: 0.1s">
                            <div class="flex items-center gap-4 mb-6">
                                <span class="bg-gradient-to-br from-red-500 to-red-700 text-white w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg shadow-lg">1</span>
                                <h3 class="text-xl font-bold ${t.text}">Masukkan ID Akun</h3>
                            </div>
                            <div class="grid grid-cols-2 gap-5">
                                <div class="col-span-2 ${g.name === 'Mobile Legends' || g.name === 'Genshin Impact' ? 'md:col-span-1' : ''}">
                                    <label class="block text-xs font-bold uppercase ${t.textMuted} mb-3 ml-1">User ID</label>
                                    <input type="number" placeholder="Ketikan User ID" class="w-full rounded-xl px-5 py-4 font-medium transition outline-none ${t.input}" value="${checkout.userId}" oninput="setCheckout('userId', this.value)">
                                </div>
                                ${(g.name === 'Mobile Legends' || g.name === 'Genshin Impact') ? `
                                <div class="col-span-2 md:col-span-1">
                                    <label class="block text-xs font-bold uppercase ${t.textMuted} mb-3 ml-1">Zone ID</label>
                                    <input type="number" placeholder="(1234)" class="w-full rounded-xl px-5 py-4 font-medium transition outline-none ${t.input}" value="${checkout.serverId}" oninput="setCheckout('serverId', this.value)">
                                </div>` : ''}
                            </div>
                        </div>

                        <!-- 2. Item -->
                        <div class="rounded-3xl p-6 border ${t.card} animate-fade-in-up" style="animation-delay: 0.2s">
                            <div class="flex items-center gap-4 mb-6"><span class="bg-gradient-to-br from-red-500 to-red-700 text-white w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg shadow-lg">2</span><h3 class="text-xl font-bold ${t.text}">Pilih Nominal</h3></div>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                ${g.items.map(item => `
                                    <div onclick="setCheckout('selectedItem', {id:'${item.id}', name:'${item.name}', price:${item.price}})" class="cursor-pointer p-4 rounded-2xl border transition relative overflow-hidden group ${checkout.selectedItem?.id === item.id ? 'bg-red-500/10 border-red-500 ring-1 ring-red-500' : `${t.bg} ${t.border} hover:border-red-400`}">
                                        <h4 class="font-bold text-xs md:text-sm ${t.text}">${item.name}</h4>
                                        <p class="${t.priceText} text-xs mt-2 font-bold">Rp ${item.price.toLocaleString()}</p>
                                        ${checkout.selectedItem?.id === item.id ? '<div class="absolute top-0 right-0 p-1.5 bg-red-500 rounded-bl-xl"><i data-lucide="check" class="text-white" width="14"></i></div>' : ''}
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- 3. Payment -->
                        <div class="rounded-3xl p-6 border ${t.card} animate-fade-in-up" style="animation-delay: 0.3s">
                            <div class="flex items-center gap-4 mb-6"><span class="bg-gradient-to-br from-red-500 to-red-700 text-white w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg shadow-lg">3</span><h3 class="text-xl font-bold ${t.text}">Pembayaran</h3></div>
                            <div class="space-y-4">
                                ${payments.map(pay => `
                                    <div onclick="setCheckout('selectedPayment', {id:'${pay.id}', name:'${pay.name}', fee:${pay.fee}})" class="flex items-center justify-between p-4 rounded-2xl border cursor-pointer transition ${checkout.selectedPayment?.id === pay.id ? 'bg-red-500/5 border-red-500 ring-1 ring-red-500' : `${t.bg} ${t.border} hover:border-red-400`}">
                                        <div class="flex items-center gap-4">
                                            <div class="w-10 h-10 rounded-xl bg-white flex items-center justify-center text-slate-900 shadow-sm border"><i data-lucide="${pay.icon}" width="20"></i></div>
                                            <div><h4 class="font-bold text-xs md:text-sm ${t.text}">${pay.name}</h4></div>
                                        </div>
                                        ${checkout.selectedItem ? `<div class="text-right"><p class="font-bold ${t.priceText} text-xs">Rp ${(checkout.selectedItem.price + pay.fee).toLocaleString()}</p></div>` : ''}
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Checkout Button -->
                        <div class="sticky bottom-6 z-30 animate-fade-in-up" style="animation-delay: 0.4s">
                            <div class="p-4 md:p-6 rounded-3xl border ${t.border} shadow-2xl backdrop-blur-xl ${state.isDarkMode ? 'bg-[#111]/90' : 'bg-white/90'}">
                                <div class="flex justify-between items-end mb-4">
                                    <span class="text-xs font-medium ${t.textMuted}">Total Pembayaran</span>
                                    <span class="text-2xl font-black ${t.accent}">${checkout.selectedItem && checkout.selectedPayment ? formatRupiah(checkout.selectedItem.price + checkout.selectedPayment.fee) : 'Rp 0'}</span>
                                </div>
                                <button onclick="handleCheckoutAction()" class="w-full py-3 md:py-4 rounded-2xl font-black text-lg tracking-wide transition shadow-lg flex items-center justify-center gap-3 animate-shimmer-effect relative overflow-hidden ${!checkout.selectedItem || !checkout.selectedPayment || !checkout.userId ? 'bg-slate-700/30 text-slate-500 cursor-not-allowed' : 'bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white transform hover:-translate-y-1'}">
                                    <i data-lucide="credit-card"></i> BELI SEKARANG
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`;
        }

        function RenderHome() {
            const t = getTheme();
            return `
            <div class="max-w-7xl mx-auto px-4 md:px-6 py-8 relative z-10 animate-fade-in">
                
                <!-- BANNER WRAPPER (Targeted by navigateBanner to avoid full reload) -->
                <div id="banner-wrapper">
                    ${RenderBanner()}
                </div>

                ${RenderFlashSale()}
                ${RenderGameGrid()}
                
                <!-- Features -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-16 pt-10 border-t ${t.border}">
                    <div class="text-center p-6 rounded-2xl ${t.card} animate-float"><div class="p-4 bg-red-500/10 rounded-full text-red-500 mb-4 inline-block"><i data-lucide="zap" width="32" height="32"></i></div><h4 class="font-bold text-lg ${t.text}">Proses Kilat</h4><p class="text-sm ${t.textMuted} mt-2">Otomatis 24 jam.</p></div>
                    <div class="text-center p-6 rounded-2xl ${t.card} animate-float" style="animation-delay: 1s"><div class="p-4 bg-green-500/10 rounded-full text-green-500 mb-4 inline-block"><i data-lucide="shield-check" width="32" height="32"></i></div><h4 class="font-bold text-lg ${t.text}">100% Legal</h4><p class="text-sm ${t.textMuted} mt-2">Aman terpercaya.</p></div>
                    <div class="text-center p-6 rounded-2xl ${t.card} animate-float" style="animation-delay: 2s"><div class="p-4 bg-yellow-500/10 rounded-full text-yellow-500 mb-4 inline-block"><i data-lucide="crown" width="32" height="32"></i></div><h4 class="font-bold text-lg ${t.text}">Layanan VIP</h4><p class="text-sm ${t.textMuted} mt-2">Prioritas CS.</p></div>
                </div>

                <!-- Stats -->
                <div class="mt-16 rounded-3xl p-8 border relative overflow-hidden ${t.card}">
                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 mix-blend-overlay"></div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 relative z-10">
                        ${stats.map(s => `
                            <div class="text-center">
                                <div class="inline-flex p-3 rounded-full bg-red-600/10 text-red-500 mb-3 animate-pulse-slow"><i data-lucide="${s.icon}"></i></div>
                                <h3 class="text-2xl md:text-3xl font-black ${t.text}">${s.value}</h3>
                                <p class="text-xs uppercase tracking-widest font-bold ${t.textMuted}">${s.label}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- Testimonials -->
                <div class="mt-20">
                    <h3 class="text-2xl font-black text-center mb-8 ${t.text}">KATA MEREKA</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        ${testimonials.map(testi => `
                            <div class="p-6 rounded-2xl border hover:-translate-y-2 transition duration-300 ${t.card}">
                                <div class="flex gap-1 mb-4 text-yellow-400"><i data-lucide="star" width="14" fill="currentColor"></i><i data-lucide="star" width="14" fill="currentColor"></i><i data-lucide="star" width="14" fill="currentColor"></i><i data-lucide="star" width="14" fill="currentColor"></i><i data-lucide="star" width="14" fill="currentColor"></i></div>
                                <p class="text-sm italic mb-6 ${t.textMuted}">"${testi.quote}"</p>
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold">${testi.name.charAt(0)}</div>
                                    <div><h4 class="font-bold text-sm ${t.text}">${testi.name}</h4><p class="text-[10px] text-red-500 font-bold uppercase">${testi.role}</p></div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- FAQ -->
                <div class="mt-20 max-w-3xl mx-auto space-y-4">
                     <h3 class="text-2xl font-black text-center mb-8 ${t.text}">FAQ</h3>
                     ${faqs.map(faq => `
                        <div onclick="setState({activeFaq: ${state.activeFaq === faq.id ? 'null' : faq.id}})" class="rounded-2xl border overflow-hidden cursor-pointer ${t.card} ${state.activeFaq === faq.id ? 'border-red-500' : ''}">
                            <div class="p-5 flex justify-between items-center"><h4 class="font-bold text-sm ${t.text}">${faq.q}</h4><i data-lucide="chevron-down" class="transition transform ${state.activeFaq === faq.id ? 'rotate-180 text-red-500' : t.textMuted}"></i></div>
                            <div class="px-5 pb-5 text-sm ${t.textMuted} ${state.activeFaq === faq.id ? 'block' : 'hidden'}">${faq.a}</div>
                        </div>
                     `).join('')}
                </div>
            </div>`;
        }

        function RenderHistory() {
            const t = getTheme();
            return `
            <div class="max-w-3xl mx-auto py-16 text-center animate-fade-in px-4">
                <div class="rounded-3xl p-8 md:p-12 border ${t.card} animate-fade-in-up">
                    <div class="w-20 h-20 bg-red-500/10 rounded-full mx-auto flex items-center justify-center mb-6 border border-red-500/20 animate-pulse-slow"><i data-lucide="search" class="text-red-500" width="32"></i></div>
                    <h2 class="text-2xl font-black ${t.text} mb-3">Lacak Pesanan</h2>
                    <p class="${t.textMuted} mb-6 text-sm">Masukkan nomor invoice transaksi kamu untuk melihat status.</p>
                    <div class="flex gap-3 max-w-md mx-auto">
                        <input type="text" placeholder="INV-XXXXXX" class="flex-1 rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-red-500 transition ${t.input}">
                        <button class="bg-red-600 text-white font-bold px-6 rounded-xl hover:bg-red-500">Cek</button>
                    </div>
                </div>
            </div>`;
        }

        function RenderAbout() {
            const t = getTheme();
            return `
            <div class="max-w-6xl mx-auto py-12 animate-fade-in px-4">
                <div class="text-center mb-16 animate-fade-in-up">
                    <h2 class="text-4xl md:text-5xl font-black mb-4 ${t.text}">THE STORY OF <span class="text-red-500">ANOZ</span></h2>
                    <p class="text-lg ${t.textMuted} max-w-2xl mx-auto">Membangun ekosistem top-up game yang aman, cepat, dan terpercaya untuk seluruh gamers Indonesia.</p>
                </div>

                <!-- Main Story Card -->
                <div class="rounded-3xl overflow-hidden border relative group hover:shadow-2xl transition duration-500 ${t.card} p-8 md:p-12 flex flex-col md:flex-row items-center gap-10 text-left animate-fade-in-up" style="animation-delay: 0.1s">
                    <div class="relative shrink-0">
                         <!-- Removed animate-spin-slow below -->
                         <div class="w-48 h-48 md:w-56 md:h-56 rounded-full p-2 bg-gradient-to-br from-red-500 via-yellow-500 to-purple-600">
                            <div class="w-full h-full rounded-full overflow-hidden border-4 border-[#111]">
                                <!-- GANTI LINK FOTO DI SINI -->
                                <img src="https://i.pinimg.com/1200x/d2/e0/5c/d2e05cdedb3ae5506969e4813df502e8.jpg" alt="Founder" class="w-full h-full object-cover">
                                <!-- Removed hover:scale-110 and transition -->
                            </div>
                         </div>
                         <div class="absolute -bottom-2 right-4 bg-yellow-400 text-black px-4 py-1 rounded-full border-4 border-[#111] font-bold text-xs shadow-lg animate-bounce">CEO & FOUNDER</div>
                    </div>
                    <div>
                        <h3 class="text-3xl font-black uppercase mb-2 ${t.text}">Adisa Nawfal <span class="text-red-500">Zia-ul alam</span></h3>
                        <p class="leading-relaxed ${t.textMuted} mb-4 text-lg">
                            "Berawal dari hobi bermain game kompetitif, saya menyadari sulitnya mencari tempat top-up yang <strong>murah</strong> namun tetap <strong>aman 100%</strong>. 
                            <span class="text-red-500 font-bold">ANOZ Store</span> lahir sebagai solusi untuk masalah tersebut."
                        </p>
                        <div class="flex gap-6 mt-6 pt-6 border-t ${state.isDarkMode ? 'border-white/10' : 'border-slate-200'}">
                            <div><h4 class="text-2xl font-black ${t.text}">50K+</h4><p class="text-xs ${t.textMuted} uppercase tracking-wider">Transaksi</p></div>
                            <div><h4 class="text-2xl font-black ${t.text}">10K+</h4><p class="text-xs ${t.textMuted} uppercase tracking-wider">Member Aktif</p></div>
                            <div><h4 class="text-2xl font-black ${t.text}">4.9</h4><p class="text-xs ${t.textMuted} uppercase tracking-wider">Rating</p></div>
                        </div>
                    </div>
                </div>

                <!-- Why Us Grid -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                    <div class="p-8 rounded-3xl border ${t.card} hover:-translate-y-2 transition duration-300 animate-fade-in-up" style="animation-delay: 0.2s">
                        <div class="w-12 h-12 bg-red-500/10 rounded-xl flex items-center justify-center text-red-500 mb-4"><i data-lucide="zap" width="24"></i></div>
                        <h4 class="font-bold text-lg mb-2 ${t.text}">Proses Kilat</h4>
                        <p class="text-sm ${t.textMuted}">Sistem otomatis yang memproses pesanan Anda dalam hitungan detik, 24 jam non-stop.</p>
                    </div>
                    <div class="p-8 rounded-3xl border ${t.card} hover:-translate-y-2 transition duration-300 animate-fade-in-up" style="animation-delay: 0.3s">
                        <div class="w-12 h-12 bg-blue-500/10 rounded-xl flex items-center justify-center text-blue-500 mb-4"><i data-lucide="shield-check" width="24"></i></div>
                        <h4 class="font-bold text-lg mb-2 ${t.text}">Legal & Aman</h4>
                        <p class="text-sm ${t.textMuted}">Jaminan uang kembali jika terjadi kesalahan. Stok 100% legal anti-ban.</p>
                    </div>
                    <div class="p-8 rounded-3xl border ${t.card} hover:-translate-y-2 transition duration-300 animate-fade-in-up" style="animation-delay: 0.4s">
                        <div class="w-12 h-12 bg-green-500/10 rounded-xl flex items-center justify-center text-green-500 mb-4"><i data-lucide="users" width="24"></i></div>
                        <h4 class="font-bold text-lg mb-2 ${t.text}">Komunitas</h4>
                        <p class="text-sm ${t.textMuted}">Bergabung dengan ribuan gamers lainnya. Event turnamen rutin setiap bulan.</p>
                    </div>
                </div>

                <!-- Community Gallery -->
                <div class="mt-16 animate-fade-in-up" style="animation-delay: 0.5s">
                    <h3 class="text-2xl font-black text-center mb-8 ${t.text}">GALERI KOMUNITAS</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="aspect-square rounded-2xl overflow-hidden bg-slate-800"><img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=300&h=300" class="w-full h-full object-cover hover:scale-110 transition duration-500 opacity-80 hover:opacity-100"></div>
                        <div class="aspect-square rounded-2xl overflow-hidden bg-slate-800"><img src="https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&q=80&w=300&h=300" class="w-full h-full object-cover hover:scale-110 transition duration-500 opacity-80 hover:opacity-100"></div>
                        <div class="aspect-square rounded-2xl overflow-hidden bg-slate-800"><img src="https://images.unsplash.com/photo-1534423861386-85a16f5d13fd?auto=format&fit=crop&q=80&w=300&h=300" class="w-full h-full object-cover hover:scale-110 transition duration-500 opacity-80 hover:opacity-100"></div>
                        <div class="aspect-square rounded-2xl overflow-hidden bg-slate-800"><img src="https://images.unsplash.com/photo-1493711662062-fa541adb3fc8?auto=format&fit=crop&q=80&w=300&h=300" class="w-full h-full object-cover hover:scale-110 transition duration-500 opacity-80 hover:opacity-100"></div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="mt-16 text-center animate-fade-in-up" style="animation-delay: 0.6s">
                    <h3 class="text-2xl font-bold mb-6 ${t.text}">Bergabunglah Bersama Kami!</h3>
                    <div class="flex justify-center gap-4">
                        <a href="#" class="px-8 py-4 bg-[#5865F2] hover:bg-[#4752C4] text-white rounded-xl font-bold flex items-center gap-2 transition transform hover:-translate-y-1 shadow-lg shadow-[#5865F2]/20"><i data-lucide="gamepad-2"></i> Discord Community</a>
                        <a href="#" class="px-8 py-4 bg-gradient-to-r from-pink-500 to-orange-500 text-white rounded-xl font-bold flex items-center gap-2 transition transform hover:-translate-y-1 shadow-lg shadow-pink-500/20"><i data-lucide="instagram"></i> Follow Instagram</a>
                    </div>
                </div>
            </div>`;
        }

        function RenderFooter() {
            const t = getTheme();
            return `
            <footer class="border-t mt-20 pb-32 md:pb-12 ${state.isDarkMode ? 'bg-[#050505] border-white/5' : 'bg-white border-red-100'}">
                <div class="max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left">
                    <div class="md:col-span-2">
                        <h1 class="text-2xl font-black ${t.text} mb-4">ANOZ<span class="text-red-500">STORE</span></h1>
                        <p class="text-sm ${t.textMuted} max-w-sm mx-auto md:mx-0">Platform top-up game premium. Aman, Cepat, Terpercaya.</p>
                        <div class="flex justify-center md:justify-start gap-4 mt-4">
                            <div class="w-10 h-10 rounded-full border flex items-center justify-center ${t.textMuted} hover:bg-red-600 hover:text-white transition"><i data-lucide="instagram" width="18"></i></div>
                            <div class="w-10 h-10 rounded-full border flex items-center justify-center ${t.textMuted} hover:bg-red-600 hover:text-white transition"><i data-lucide="youtube" width="18"></i></div>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 ${t.text}">Menu</h4>
                        <ul class="space-y-2 text-sm ${t.textMuted}">
                            <li onclick="setState({activeTab:'home', selectedGame:null})" class="cursor-pointer hover:text-red-500">Beranda</li>
                            <li onclick="setState({activeTab:'history'})" class="cursor-pointer hover:text-red-500">Lacak Pesanan</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 ${t.text}">Pembayaran</h4>
                        <div class="flex flex-wrap justify-center md:justify-start gap-2">
                             ${['QRIS','DANA','OVO','BCA'].map(m => `<span class="text-[10px] px-3 py-1 rounded border font-bold ${state.isDarkMode ? 'bg-white/5 border-white/10 text-slate-400' : 'bg-slate-100 border-slate-200 text-slate-600'}">${m}</span>`).join('')}
                        </div>
                    </div>
                </div>
                <div class="text-center text-xs py-8 border-t ${state.isDarkMode ? 'border-white/5 text-slate-600' : 'border-slate-100 text-slate-400'}">&copy; 2024 AnozStore. All rights reserved.</div>
            </footer>
            
            <!-- Mobile Nav -->
            <div class="md:hidden fixed bottom-6 left-6 right-6 rounded-2xl border backdrop-blur-xl flex justify-around items-center p-4 z-50 shadow-2xl ${t.nav}">
                <button onclick="setState({activeTab:'home', selectedGame:null})" class="${state.activeTab === 'home' && !state.selectedGame ? 'text-red-500' : t.textMuted}"><i data-lucide="home"></i></button>
                <div class="w-14 h-14 bg-red-600 rounded-full -mt-10 border-[6px] flex items-center justify-center shadow-lg transform active:scale-95 transition" style="border-color: ${state.isDarkMode ? '#111' : '#fff'}"><i data-lucide="shopping-cart" class="text-white"></i></div>
                <button onclick="setState({activeTab:'history'})" class="${state.activeTab === 'history' ? 'text-red-500' : t.textMuted}"><i data-lucide="search"></i></button>
            </div>

            <!-- Floating Chat -->
            <a href="https://wa.me/6281234567890" target="_blank" class="fixed bottom-24 right-6 md:bottom-10 md:right-10 z-50 p-4 bg-green-500 text-white rounded-full shadow-lg hover:bg-green-600 transition animate-float">
                <i data-lucide="message-circle" width="28" height="28"></i>
                <span class="absolute top-0 right-0 -mt-1 -mr-1 flex h-4 w-4"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span><span class="relative inline-flex rounded-full h-4 w-4 bg-red-500"></span></span>
            </a>
            
            <!-- Noise Overlay -->
            <div class="fixed inset-0 pointer-events-none z-[1] opacity-[0.03] mix-blend-overlay" style="background-image: url('data:image/svg+xml,%3Csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noiseFilter\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.65\' numOctaves=\'3\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noiseFilter)\'/%3E%3C/svg%3E')"></div>
            `;
        }

        function render() {
            const app = document.getElementById('app');
            let content = RenderNavbar();

            if (state.selectedGame) {
                content += RenderGameDetail();
            } else if (state.activeTab === 'home') {
                content += RenderHome();
            } else if (state.activeTab === 'history') {
                content += RenderHistory();
            } else if (state.activeTab === 'about') {
                content += RenderAbout();
            }
            
            content += RenderFooter();
            app.innerHTML = content;
            lucide.createIcons();
            
            // Restore focus if searching
            if(state.searchQuery && !state.selectedGame && state.activeTab === 'home') {
               const input = document.querySelector('input[placeholder="Cari game..."]');
               if(input) {
                   input.focus();
                   input.setSelectionRange(input.value.length, input.value.length);
               }
            }
        }

        // --- GLOBAL EFFECTS & INIT ---
        
        // Timer
        setInterval(() => {
            if(state.timeLeft <= 0) state.timeLeft = 7200 + Math.random() * 10000;
            else state.timeLeft -= 1;
            // Only re-render if visible
            const timerEl = document.querySelector('.animate-pulse-slow span');
            if(timerEl) timerEl.innerText = formatTime(state.timeLeft);
        }, 1000);

        // Banner Auto Slide (UPDATED: Uses navigateBanner to prevent full page reload)
        setInterval(() => {
            if(state.activeTab === 'home' && !state.selectedGame) {
                // Calculate next index
                const nextIndex = (state.currentBanner + 1) % banners.length;
                navigateBanner(nextIndex);
            }
        }, 5000);

        // Custom Cursor Logic
        const cursorMain = document.getElementById('cursor-main');
        const cursorDot = document.getElementById('cursor-dot');
        const cursorInner = document.getElementById('cursor-dot-inner');

        window.addEventListener('mousemove', (e) => {
            cursorMain.style.transform = `translate3d(${e.clientX}px, ${e.clientY}px, 0)`;
            cursorDot.style.transform = `translate3d(${e.clientX}px, ${e.clientY}px, 0)`;
        });

        document.addEventListener('mouseover', (e) => {
            if (e.target.tagName === 'BUTTON' || e.target.tagName === 'A' || e.target.tagName === 'INPUT' || e.target.closest('.cursor-pointer')) {
                cursorMain.style.transform += ' rotate(45deg) scale(1.5)';
                cursorInner.classList.add('scale-150', 'border-red-500', 'opacity-80', 'animate-spin-slow');
                cursorInner.classList.remove('scale-50', 'opacity-40');
            } else {
                cursorMain.style.transform = cursorMain.style.transform.replace(' rotate(45deg) scale(1.5)', '');
                cursorInner.classList.remove('scale-150', 'border-red-500', 'opacity-80', 'animate-spin-slow');
                cursorInner.classList.add('scale-50', 'opacity-40');
            }
        });

        // Initialize
        render();

    </script>
</body>
</html>
